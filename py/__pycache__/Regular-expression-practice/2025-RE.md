## 1. **파이썬의 re 모듈**

파이썬에서는 정규표현식을 지원하는 기본 모듈 `re`가 있습니다.

정규표현식은 프로그래밍 언어에 종속되지 않지만, 여러분이 진행할 실습에서 파이썬과 `re`모듈을 이용하고 있기 때문에 알아두면 좋습니다.

모듈을 불러오고 실행 버튼을 눌러 `re` 모듈을 차차 알아가봅시다!

## ***지시사항***

일단 4행에 `re`모듈을 불러옵시다.

```
import re
```

9행의 `p1`에 아무 정규식이나 입력하고, 실행 결과를 확인해보세요! 잘 몰라도 괜찮습니다. 저는 \"elice" 를 넣어보겠습니다.

```
p1 = "elice"
```

#### 출력 예시

`p1`변수에 어떤 값을 넣었냐에 따라 출력값이 달라집니다. 저는 ***\"elice"*** 를 넣었기 때문에 text에서 "elice" 문자열이 매칭되어 출력됩니다.

```
['elice']
```

`re` 모듈의 기본적인 사용법은 이어질 실습들에서 알아봅시다.



## 2. **정규식 객체란?**

`re` 모듈엔 **정규식 객체** 라는 개념이 있습니다.

`re.compile()` 함수는 문자열 **패턴**을 컴파일하여 정규식 객체를 반환합니다.

어떤 정규식을 코드 내에서 여러 번 사용하고자 할 때 `re.compile()` 함수로 **정규식 객체**를 만들어 사용합니다.

`re` 모듈의 함수는 `re`클래스의 함수도 있지만, **정규식 객체**에서 호출하기도 합니다.

코드를 직접 보면서 비교해봅시다!

## **지시사항**

10행과 12행의 코드와 출력값을 각각 비교해봅시다!

둘 다 `findall()` 함수를 사용하지만 자세히 보면 10행에서는 **pattern** 변수의 `findall` 함수를 호출하고, 12행에서는 **re** 모듈의 `findall` 함수를 호출합니다.

함수의 인자도 10행에서는 **1개**, 12행에서는 **2개**로 각각 다르네요.

그러나 결과값은 동일합니다.

이처럼 `re.compile()` 함수는 정의한 정규표현식을 여러 번 사용할 때 주로 이용합니다.

특히 복잡하고 긴 정규식같은 경우 편리합니다.



## 3. **패턴 찾아보기(1)**

예시로 주어진 문자열 변수 `text`에서 알파벳 `"a"`를 찾아보겠습니다.

하나의 문자를 찾기 위해 사용하는 패턴을 알아보세요.

## **지시사항**

7행에서 변수 `p`에 문자열 형식의 패턴을 입력해주어야 합니다.

알파벳 `"a"`를 찾기 위해서는,

```
p = "a"

```

처럼 패턴을 입력해주어야 합니다.

알맞게 입력한 뒤 실행 버튼을 눌러 결과를 확인하세요.

#### **출력 결과**

출력 결과는 문자열 변수 `text`에서 패턴과 같은 문자열을 모두 추출한 것 입니다.

**findall** 함수로 추출된 결과는 list로 저장됩니다.

문자열 text에서 패턴과 일치하는 부분은 모두 반환되어 출력됩니다.

예시에서는 패턴이 `"a"`이므로, text 안의 모든 `"a"`가 list로 반환되어 출력됩니다.



## 4. 패턴 찾아보기(2)

예시로 주어진 문자열 변수 `text`에서 문자열 `"elice"`를 찾아보겠습니다.

이전 실습과 마찬가지로, 7행에서 변수 `p`에 문자열 형식의 패턴을 입력해주어야 합니다.

`문자 찾기(1)` 실습을 응용해서, 문자열 `"elice"`를 찾기 위한 알맞은 패턴을 입력해보세요.

알맞게 입력한 뒤 실행 버튼을 눌러 결과를 확인하세요.

## **지시사항**

출력 결과는, `문자 찾기(1)` 실습과 마찬가지로 `text` 변수 내에서 패턴과 일치하는 부분을 모두 출력합니다.

## **Tip!**

문서에서 특정 문자를 찾고 싶을 때 `Ctrl+F` 기능을 이용하듯이, 문자열 p에 찾고자 하는 문자열을 입력하세요.



## 5. 문자열의 시작

어떤 문자열이 특정 문자(열)로 시작하는 경우에만 매칭하는 메타 문자인 `^`를 활용한 실습을 진행해봅시다.

정규 표현식에서 `^`를 사용하면, 검색하는 문자열 내에서 특정 문자(열)로 시작하는 경우에만 한정지어 매칭할 수 있습니다.

예를 들어, `^ex`란 패턴은 문자열 앞에 `"ex"`로 시작해야 매칭합니다.

```
예시 : (expand, expire, extend, exclaim...)

```

실습을 통해 `^` 기호를 알맞게 활용해봅시다.

## **지시사항**

문자열 `"Life is short"`에 대하여 정규표현식으로 검색하고자 합니다.

`^` 기호를 이용해 변수 `p1`과 `p2`에 패턴을 입력하고, 결과를 확인해보세요.

```
p1 = "^Life"
p2 = "^is"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **결과 비교하기**

`m1`와 `m2`의 출력 결과를 비교해보세요.

`m1`은 Life가 출력된 반면,

`m2`는 검색하는 문자열이 `is`로 시작하지 않기 때문에, m2를 출력하면 빈 리스트만 출력됩니다.

#### **출력 예시**

```
m1 결과 :  ['Life']
m2 결과 :  []
```



## 6. 문자열의 끝

이번에는 어떤 문자열이 특정 문자(열)로 끝나는 경우에만 매칭하는 메타 문자인 `$`를 활용한 실습을 진행해봅시다.

정규 표현식에서 `$`를 사용하면, 검색하는 문자열 내에서 특정 문자(열)로 끝나는 경우에만 한정지어 매칭할 수 있습니다.

예를 들어, `ful$` 은 문자열의 끝에 `"ful"`이란 문자열이 등장하는 경우에 매칭합니다.

```
예시 : (helpful, useful, wonderful...)

```

실습을 통해 `$` 기호를 알맞게 활용해봅시다.

## **지시사항**

문자열 `"Life is short"`과 `"Life is short, art is long"`에 각각 정규표현식을 적용해보겠습니다.

`$` 기호를 이용해 변수 `p1`과 `p2`에 패턴을 입력하고, 결과를 확인해보세요.

```
p1 = "short$"
p2 = "short$"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **결과 비교하기**

`m1`과 `m2`의 출력 결과를 비교해보세요.

`"Life is short, and art is long"`은 `short`로 끝나지 않기 때문에, m4를 출력하면 빈 리스트만 출력됩니다.

`m1`과 `m2`에서는 `"short"`문자열이 포함되어 있어 검색결과가 매치되었지만,

`m3`과 `m4`에서는 검색하는 문자열이 `"short"`문자열로 끝나야 매치합니다.

#### **출력 예시**

```
m3 결과 :  ['short']
m4 결과 :  []
```



## 7. 여러 조건 나타내기(1)

문자열 데이터에서 특정 패턴을 검색하고자 할 때, 단순히 특정한 문자열을 검색할 뿐만 아니라 여러 조건에 해당하는 문자열을 검색할 일도 많습니다.

여러 가지의 문자열을 동시에 검색하고 싶다면 어떻게 해야 할까요?

그 방법은 바로, ‘or 연산자’ `|` 를 이용하는 것입니다.

`|`를 이용한 실습을 진행해보도록 하겠습니다.

## **지시사항**

문자열 `"I like apple and banana"`에 대하여 정규표현식으로 검색하고자 합니다.

변수 `p1`, `p2`에는 각각 `apple`과 `banana`를 검색하는 정규표현식이 작성되어 있습니다.

17행의 변수 `p3`에, apple과 banana를 동시에 검색할 수 있는 정규표현식을 작성해보세요.

```
p3 = "apple|banana"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **출력 예시**

```
m3 결과 :  ['apple', 'banana']

```

텍스트에 있는 apple과 banana가 모두 매칭되었습니다.



## 8. 여러 조건 나타내기(2)

정규표현식 패턴에 여러 조건을 만족하게 하는 방법으로는 `|` 연산자도 있지만, 대괄호 `[]`를 이용할 수도 있습니다.

`"Life is short, art is long"` 문자열에서, 알파벳 소문자 모음 문자만 추출하려면 어떻게 해야 할까요?

앞선 실습에서 배운 내용으로는, 모음을 출력하기 위해서

```
p = "a|e|i|o|u"

```

로 나타내면 됩니다.

그런데 만약, **a, e, i, o, u를 제외하고** 매칭하고자 하려면 어떻게 해야 할까요?

`[]`를 이용하면, 보다 편리하게 위 작업을 할 수 있습니다.

알파벳 모음과, 모음이 아닌 문자만 출력하는 정규표현식 패턴을 `[]`를 이용하여 작성해보세요.

## **지시사항**

6행의 변수 `p2`에 대괄호 `[]`를 이용하여 알파벳 모음을 매칭하는 정규표현식을 작성해보세요.

```
p2 = "[aeiou]"

```

`^` 메타 문자는 **“문자열의 앞”** 이란 의미였지만, `[]` 대괄호 안에서 쓰이면 **not** 의 의미입니다.

즉, `[^aeiou]` 는 **a, e, i, o, u**가 아닌 문자에 매칭됩니다.

7행의 변수 `p3`에 정규식을 입력해보세요.

```
p3 = "[^aeiou]"

```

#### **출력 예시**

```
m2 결과 :  ['i', 'e', 'i', 'o', 'a', 'i', 'o']
m3 결과 :  ['L', 'f', ' ', 's', ' ', 's', 'h', 'r', 't', ',', ' ', 'r', 't', ' ', 's', ' ', 'l', 'n', 'g']

```

검색하는 문자열에 포함된 알파벳 소문자 모음 (‘a,e,i,o,u’)가 변수 `m2`에 리턴되었습니다.

그리고 **a, e, i, o, u**를 제외한 나머지 문자들이 `m3`에 리턴되었습니다.



## 9. **여러 조건 나타내기(3)**

대괄호 `[]`와 하이픈 `-`을 이용하면 조건을 범위로도 나타낼 수 있습니다.

예를 들어, `[0-9]`는 숫자, `[a-z]`는 알파벳 소문자, `[A-Za-z]`는 알파벳 대소문자와 매칭됩니다.

만약 하이픈 `-` 없이 **모든 숫자와 매칭**하려면,

```
[0123456789]

```

또는

```
0|1|2|3|4|5|6|7|8|9

```

처럼 불편하게 사용해야 했을 것입니다.

`[]`와 `-` 메타 문자를 이용한 실습을 진행해보도록 하겠습니다.

#### **주의사항**

`-`를 이용하여 범위를 나타낼 때, `-` 왼쪽의 문자가 오른쪽 문자보다, 문자 코드 상(ex. 유니코드) 앞선 순서여야 합니다.

즉, `[a-zA-Z]`(문자 코드 상 A < a)나 `[z-a]` 와 같이 범위를 지정해서는 안 됩니다.

## **지시사항**

임의의 문자열에 대해, 숫자와 알파벳 소문자에 각각 매칭되는 정규표현식을 `[]`와 `-` 기호를 이용하여 작성해보도록 하겠습니다.

6행의 변수 `p1`에는 숫자와 매칭되는 정규표현식을 작성해보세요.

```
p1 = "[0-9]"

```

7행의 변수 `p2`에는 알파벳 소문자와 매칭되는 정규표현식을 작성해보세요.

```
p2 = "[a-z]"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **출력 예시**

```
m1 결과 :  ['5', '8', '3', '0', '4', '7', '3']
m2 결과 :  ['v', 'k', 'v', 'j', 'g', 's', 'r', 'l', 'p', 'x', 'k']

```

검색하는 문자열의 숫자는 m1의 결과로, 알파벳 소문자는 m2의 결과로 각각 반환되었습니다.



## 10. **임의의 숫자 찾기**

`[0-9]` 정규표현식과 똑같은 의미를 나타내는 메타 문자가 있습니다.

`\d` 메타 문자는 모든 숫자 문자에 대해 매칭하는 메타 문자인데요,

반대로 `\D` 메타 문자는 숫자가 아닌 문자에 대해 매칭하는, 즉 `[^0-9]`와 같은 의미의 메타 문자입니다.

실습을 통해 `\d`와 `\D`를 알아보도록 하겠습니다.

## **지시사항**

문자열 `"el_ice%20$19"`에 대하여 정규표현식으로 검색하고자 합니다.

7행과 8행의 `p1`과 `p2` 변수에, 각각 숫자와 숫자가 아닌 문자를 검색하는 정규표현식을 작성해보도록 하겠습니다.

```
p1 = "\d"

p2 = "\D"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **출력 예시**

```
m1 결과 :  ['2', '0', '1', '9']
m2 결과 :  ['e', 'l', '_', 'i', 'c', 'e', '%', '$']

```

문자열`"el_ice%20$19"`에서 숫자는 모두 `m1`으로, 숫자가 아닌 문자는 모두 `m2`로 리턴된 것을 확인하실 수 있습니다.



## 11. 임의의 문자 찾기

정규표현식 `[A-Za-z0-9_]` 은 알파벳 대소문자, 숫자, 밑줄(`_`)을 매칭하는 패턴입니다.

이 패턴과 같은 의미를 가진 메타 문자가 있습니다.

`\w` 메타 문자는, 알파벳 대소문자, 숫자, 밑줄(`_`) 문자에 대해 매칭하는 메타 문자인데요,

`\W` 메타 문자는 `[^A-Za-z0-9_]`와 같은 의미를 나타내며, `\w`메타 문자에 매칭되지 않는 모든 문자와 매칭됩니다.

실습을 통해 `\w`와 `\W`를 알아보도록 하겠습니다.

## **지시사항**

문자열 `"el_ice%20$19"`에 대하여 정규표현식으로 검색하고자 합니다.

7행과 8행의 `p1`과 `p2` 변수에, 각각 알파벳 대소문자, 숫자, 밑줄을 매칭하는 정규표현식과

그 반대 조건의 정규표현식을 작성해보도록 하겠습니다.

```
p1 = "\w"

p2 = "\W"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **출력 예시**

```
m1 결과 :  ['e', 'l', '_', 'i', 'c', 'e', '2', '0', '1', '9']
m2 결과 :  ['%', '$']
```



## 12. 모든 문자와 매칭되는 메타 문자

그 어떤 문자가 오더라도 모두 매칭되는 메타 문자도 있습니다.

바로 `.`인데요,

즉 `c.t`라는 패턴은, “cat, cbt, cct, c@t, c$t, c t…”등의 문자열과 매칭됩니다.

#### **주의사항**

`[]` 대괄호 속의 `.`은 마침표 문자 그대로를 나타내므로 유의하셔야 합니다.

즉, `c[.]t` 패턴은 오직 `"c.t"`라는 문자열에만 매칭됩니다.

## **지시사항**

`.` 메타 문자를 이용하여, `c`로 시작하고 `t`로 끝나는, 모든 3글자 단어에 매칭해봅시다.

```
p1 = "c.t"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **출력 예시**

```
m1 결과 :  ['cat', 'c@t', 'cut']

```

c로 시작하고 t로 끝나는 모든 3글자 단어가 출력되었습니다. `cant`는 3글자가 아니기 때문에, 매칭되지 않았습니다.



## 13. 대소문자 구분 무시하기

정규식 패턴이 매칭될 때, 당연히 대소문자도 구분하여 매칭하게 됩니다.

만약 대소문자를 구분하지 않게끔 하고 싶다면, 일일이 처리하는 것이 귀찮을 수 있습니다.

이를 위해 정규표현식에서 대소문자를 무시하게 하는 옵션을 알아보도록 하겠습니다.

## **지시사항**

8행에서 변수 `p2`에 문자열 형식의 패턴을 입력해주어야 합니다.

패턴이 대소문자를 구분하지 않게 하기 위해서는
`(?i)` 플래그를 넣어주시면 됩니다.

```
p2 = "(?i)apple"

```

이 플래그가 위치에 상관 없이 패턴 내에 포함되어있기만 하면, 해당 패턴은 대소문자를 무시하게 됩니다.

```
(?i)apple
apple(?i)

```

따라서 위 두 패턴의 매칭 결과는 같습니다.

#### 출력 결과

출력 결과는 `APPLE` 이라는 알파벳을 가진 문자열들이 대소문자를 구분하지 않고 매칭된 것입니다.

```
m2 결과 :  ['APPLE', 'APPLe', 'APPlE', 'APpLE', 'ApPLE', 'aPPLE', 'APPle', 'APpLe', 'ApPLe', 'aPPLe', 'APplE', 'ApPlE', 'aPPlE', 'AppLE', 'aPpLE', 'apPLE']
```



## 14. **공백 문자 찾기**

공백 문자(white space)에는 스페이스 문자 `' '`뿐만 아니라 여러 종류가 있습니다.

| 문자 | 의미                             |
| :--- | :------------------------------- |
| \t   | 가로 탭 문자 (ASCII 코드 9)      |
| \n   | 개행 문자(ASCII 코드 10)         |
| \v   | 세로 탭 문자                     |
| \f   | 용지 넘김 문자 (ASCII 코드 12)   |
| \r   | 캐리지 리턴 문자 (ASCII 코드 13) |

이 문자들과 모두 매칭되는 정규식 메타 문자는 `\s`입니다.

그리고, 이 문자들을 제외한 모든 문자들과 매칭되는 정규식 메타 문자는 `\S` 입니다.

실습을 통해 `\s`와 `\S`를 알아보도록 하겠습니다.

## **지시사항**

문자열 `"Life is short"`에 대하여 정규표현식으로 검색하고자 합니다.

공백(White space) 문자를 찾는 패턴과, 공백이 아닌 문자를 찾는 패턴을 작성해봅시다.

```
p1 = "\s"
p2 = "\S"

```

각 변수에 값을 넣고 실행 버튼을 눌러보세요.

#### **결과 비교하기**

`m1`은 띄어쓰기로 인한 공백이, `m2`는 공백이 아닌 문자가 리턴되었습니다.

#### **출력 예시**

```
m1 결과 :  [' ', ' ']
m2 결과 :  ['L', 'i', 'f', 'e', 'i', 's', 's', 'h', 'o', 'r', 't']
```



## 15. **0개 이상**

`*` 문자는 바로 앞의 문자가 0번 이상 반복됨을 나타내는 수량자입니다.

`ca*t` 패턴은 c와 t사이에 a가 0번 또는 여러 번 반복되어도 모두 매칭합니다.

즉 **“ct”**, **“cat”**, **“caat”**, **“caaat”**… 등에 모두 매칭됩니다.

실습을 통해 `*` 수량자에 대해 알아봅시다!

## ***지시사항***

c와 t 사이에 a가 0개 이상 있는 문자열에 매칭되게끔 정규표현식을 작성해보세요.

9행의 `p1`변수에 패턴을 작성해봅시다.

```
p1 = "ca*t"
```

변수에 값을 넣고 실행 버튼을 눌러보세요.

#### ***결과***

c와 t 사이에 'a'가 0개 이상 있는 경우를 출력합니다.

#### ***출력 예시***

```
m1 결과 :  ['ct', 'cat', 'caat', 'caaat', 'caaaaat', 'caaaaaat']
```





## 16. **1개 이상**

`*` 수량자와 달리, 최소 하나 이상은 반복되어야 매칭되는 문자 `+`에 대해 알아봅시다.

`+`의 의미를 예시로 설명하면,
`like[a-z]+` 패턴은 `likelihood`, `likely` 등과 매칭되지만 `like`와는 매칭되지 않는다는 점이 `like[a-z]*`와의 차이입니다.

`+` 를 사용하여 `https://\w+\.com` 패턴처럼 `https://`로 시작하고, `.com` 도메인을 사용하는 인터넷 주소를 매칭할 수 있습니다.

실습을 통해 `+` 수량자를 사용해봅시다.

## ***지시사항***

임의의 단어들이 저장되어 있는 문자열 변수 `text`를 보세요.

해당 문자열 변수에서 영단어를 따로 추출해봅시다.

결과 비교를 위해 `p1`에는 `[a-z]` 정규식이 입력되어 있습니다.

10행의 변수 `p2`에 ***여러 개의 문자***와 매칭하는 정규표현식을 작성해봅시다.

```
p2 = [a-z]+
```

변수에 값을 넣고 실행 버튼을 눌러보세요.

#### ***출력 예시***

```
m1 결과 :  ['a', 'p', 'p', 'l', 'e', 'b', 'a', 'n', 'a', 'n', 'a', 'c', 'a', 'r', 'r', 'o', 't', 'r', 'a', 'b', 'b', 'i', 't']
m2 결과 :  ['apple', 'banana', 'carrot', 'rabbit']
```

`m1`의 경우를 보면 `[a-z]`는 문자 단위로 매칭하여 출력되지만,

`m2`에서는 `[a-z]+`는 문자가 최소 1개 이상 반복되는 경우에 모두 매칭하므로, 즉 ***단어*** 단위로 매칭되어 출력된 모습입니다.



## 17. **n개**

딱 `n개`의 문자가 있어야만 검색하도록 설정할 수도 있습니다!

예를 들어, 한국의 주민번호 같은 경우에는`\d{6}-\d{7}` 와 같은 형식으로 나타낼 수 있습니다.

실습을 통해 `{n}` 수량자를 사용해봅시다.

## ***지시사항***

임의의 숫자들이 저장되어 있는 문자열 변수 `text`를 보세요.

해당 문자 변수에서 ***세 자리 수***만 따로 추출해봅시다.

결과 비교를 위해 `p1`에는 `\d+` 정규식이 입력되어 있습니다.

10행의 변수 `p2`에 ***세 자리 수***에 매칭하는 정규표현식을 작성해봅시다.

```
p2 = "\d{3}"
```

`m1`과 `m2`의 결과값을 비교해보세요!

#### ***출력 예시***

```
m1 결과 :  ['1', '12', '102', '8948', '754', '77', '3', '222']
m2 결과 :  ['102', '894', '754', '222']
```

`m1`은 모든 숫자가 출력된 반면, `m2`는 세자리수만 출력된 모습입니다.



## 18. **n개 이상 m개 이하**

문자의 개수를 범위로 설정할 수도 있습니다.

{n,m}과 같은 수량자는 n개 이상, m개 이하를 의미합니다.

예를 들어, `ca{3,5}t`란 정규표현식은 **caaat**, **caaaat**, **caaaaat**과 매칭됩니다.

실습을 통해 수량자를 직접 활용해봅시다.

## **지시사항**

임의의 숫자들이 저장되어 있는 문자열 변수 `text`를 보세요.

해당 문자 변수에서 **자릿수가 3 이상 5 이하인 수**만 따로 추출해봅시다.

9행의 변수 `p1`에 알맞은 정규표현식을 작성해봅시다.

`m1`의 결과값이 성공적으로 출력되는지 확인한 후 제출해보세요.

## **Tip!**

{n,m} 수량자에서 `{n, m}` 처럼 **콤마(,)** 와 공백을 사용하면 제대로 동작하지 않으니 유의해야 합니다.



## 19. **n개 이상**

앞서 배운 **{n,m}** 수량자와는 달리, 문자의 최대 개수 제한을 두지 않을 수도 있습니다.

{n,}과 같은 수량자는 n개 이상의 문자가 오면 모두 매칭합니다.

예를 들어, `co{2,}l`이란 정규표현식은 **cool**, **coool**, **cooool**, **…**, **cooooooool**, **…** 과 매칭됩니다.

실습을 통해 수량자를 직접 활용해봅시다.

## **지시사항**

임의의 숫자들이 저장되어 있는 문자열 변수 `text`를 보세요.

해당 문자열 변수에서 **자릿수가 7 이상인 수**만 따로 추출해봅시다.

9행의 변수 `p1`에 알맞은 정규표현식을 작성해봅시다.

`m1`의 결과값이 성공적으로 출력되는지 확인한 후 제출해보세요.



## 20. **0개 또는 1개**

0개 또는 1개만을 나타내는 수량자인 `?`도 있습니다. `?`수량자는 {0,1} 수량자와 같은 동작을 합니다.

`?`의 사용을 예를 들어 설명하면 `dogs?` 정규표현식은 **dog**, **dogs**와 매칭됩니다.

실습을 통해 `?` 수량자를 직접 사용해봅시다.

## **지시사항**

문자열 변수 `text`를 보세요.

해당 문자열 변수에서 **ac**, **abc**만 따로 추출해봅시다.

9행의 변수 `p1`에 알맞은 정규표현식을 작성해봅시다.

`m1`의 결과값이 성공적으로 출력되는지 확인한 후 제출해보세요.



## 21. **탐욕스러운 수량자**

수량자가 탐욕스럽다니, 대체 무슨 의미일까요?

수량자는 기본적으로 가능한 한 **가장 긴 문자열**과 매칭하려는 특성을 가지고 있습니다.

오른쪽 예제를 보며 이해해봅시다.

`text` 변수에 담긴 html 소스에서 `<>`로 열고 닫히는 태그를 출력하고자 하는 의도로 `p1`에 `<.*>`란 정규식을 입력하였습니다.

그러나 출력 결과를 확인해보면 의도대로 동작하지 않는다는 것을 알 수 있습니다!

이럴 때 `?` 문자를 **수량자 뒤에 붙여** 수량자의 탐욕성을 제한하도록 바꿔줄 수 있습니다.

여기서 사용하는 `?` 문자는 앞서 사용한 **0개 또는 1개**를 나타내는 것과 다른 의미로 사용됩니다.

기호만 같고 의미는 전혀 다르니 주의하셔야 합니다.

실습을 통해 수량자의 탐욕성에 대해 알아보세요!

## ***지시사항***

10행의 `p2`변수에 패턴을 작성하고 출력해보세요.

```
p2 = "<.*?>"
```

`*` 뒤에 있는 `?` 문자가 `*` 수량자의 탐욕성을 억제합니다.

#### ***출력 예시***

```
m1 결과 :  ['<html><head><Title>제목</head></html>']
m2 결과 :  ['<html>', '<head>', '<Title>', '</head>', '</html>']
```

html의 태그들이 잘 출력되었음을 알 수 있습니다.

## ***Tip!***

`?` 문자는 `*?` 뿐만 아니라 `+?`, `??`, `{n,}?`, `{n,m}?` 등과 같이 사용할 수도 있습니다.

수량자의 원래 특성과는 반대로 ***가능한 한 최소한의 수량***과 매칭되도록 합니다.



## 22. **그룹 사용해보기**

여기까지 수업을 진행하신 수강생 여러분께서는 기존의 메타 문자와 수량자를 이용하여 특정 문자가 반복되는 패턴을 매칭하는 방법을 알고 계실겁니다.

그런데 다음과 같은 경우에는 어떻게 해야 할까요?

> 나는 “cat”, “catat”, “catatat”… 처럼 “c” 뒤에 “at”가 1번 이상 반복되는 경우에 매칭하고 싶어.

이러한 문제를 해결하기 위한 방법으로 그룹이 있습니다.

소괄호 `()` 를 이용하여 그룹을 만들어보고 간단한 사용 예시를 실습을 통해 알아봅시다!

## ***지시사항***

문자열 변수 `text`에서 ***\"c"*** 뒤에 ***\"at"*** 가 한 번 이상 반복되는 경우와 매칭하여 출력해봅시다.

10행의 변수 `p2`에 정규식 패턴을 입력해보세요.

```
p2 = "c(at)+"
```

괄호로 ***\"a"*** 와 ***\"t"*** 를 하나로 묶고, `+` 수량자를 이용한 모습입니다.

m1과 m2의 출력값을 비교해보세요!

#### ***출력 예시***

```
m1 결과 :  cat
m2 결과 :  catatatatatat
```

## Tip!

4장 그룹 실습에서는 이전과 달라진 것이 있습니다.

기존에는 re 모듈의 `findall()` 함수를 이용했는데, 이번에는 `match` 객체의 `group()` 함수를 이용하기 위해 `search()`함수로 정규식을 적용합니다.

`match` 객체나 `search()` 함수의 내용이 기억이 안 나신다면 1장의 `정규표현식 들어가기` 마크다운 문서를 참고하세요!!



## 23. 그룹 참조하기

정규식에서 그룹을 사용하는 이유 중 하나는 이미 정의한 그룹을 **다시 사용**할 수 있다는 점입니다.

복잡한 정규식을 재활용을 통해 비교적 간단하게 표현할 수 있습니다.

정규식에서 `()`로 묶은 그룹들은 앞에서 부터 1번, 2번, 3번… 그룹으로 표현되고, 정규식 내에서 `\1`, `\2` 의 방법으로 사용 가능합니다.

실습을 통해 그룹 참조에 대해서 알아봅시다!

## ***지시사항***

문자열 변수 `text`에서 그룹 참조를 활용한 정규식 패턴을 사용해보겠습니다.

9행의 변수 `p1`에 값을 입력해주세요.

```
p1 = "(to)ma\\1"
```

p1에서 ***to***에 매치하는 첫 번째 그룹을 캡쳐하고, ma 뒤에 다시 ***1번 그룹의 내용***과 매치되는 패턴을 정의하였습니다.

#### ***출력 예시***

```
m1 결과 :  tomato
```

## ***Tip!***

그룹을 참조할 때 `\\1`과 같이 숫자 앞에 역슬래쉬를 붙여줄 때, 이스케이프를 위해 역슬래쉬를 ***두 개***씩 써야 한다는 점을 잊지 마세요.



## **sub 함수 알아보기**

`re`와 패턴 객체에서 지원하는 함수인 `sub()` 함수를 활용해봅시다.

`sub()`함수는 문자열에서 패턴에 일치하는 부분을 **일정 문자열**로 교체하여 반환하는 함수입니다.

**1장** 정규표현식 들어가기에서 등장했던, 전화번호 가운데 자리를 `*` 로 바꾸는 작업을 구현해봅시다!

## ***지시사항***

회원 정보가 저장된 문자열 변수 `text`에서 전화번호에 해당하는 부분에만 매칭하고, 전화번호 가운데 자리를 `*`로 바꾼 다음 sub 함수의 결과값을 출력해봅시다.

```
p1 = "(010)\D?\d{4}\D?(\d{4})"
```

정규식 p1의 의미를 해석해보겠습니다.

우선 맨 앞 세 자리를 나타내는 `010`과 맨 끝 네 자리를 나타내는 `\d{4}`를 그룹으로 묶었습니다.

`\D?`는 숫자를 제외한 ***구분문자***(`-`, `.` 등)이 있을 수도 있고 없을 수도 있다는 의미입니다.

그리고 가운데 네 자리를 나타내는 `\d{4}`가 위치하고 있습니다.

14행의 `sub()` 함수에서는 `text`에서 `p1`에 매칭하는 부분, 즉 ***전화번호*** 부분에서 그룹으로 저장한 앞 세 자리와 뒤 네 자리는 그룹을 참조하여 기존 값 그대로 유지하고, 가운데 자리를 `****`로 대체하도록 하였습니다.

#### ***출력 예시***

```
m1 결과 : 
Elice 123456-1234567 010-****-5678
Cheshire 345678-678901 010-****-5432
```

## ***Tip!***

14행의 `sub()` 함수 사용하는 부분을 보세요!

sub의 두 번째 인자는 ***대체할 문자열***을 나타냅니다.

대체할 문자열에서의 ***\g<1>***, ***\g<2>*** 의 의미가 궁금하시나요?

`\g<그룹번호>`의 형식으로 sub 함수의 대체할 문자열에서 정규식의 그룹을 참조할 수 있습니다.



## 25. 비캡쳐링 그룹

그룹은 여러 문자와 패턴을 묶어줄 수 있습니다.

`potato`, `tomato`두 단어를 보시면, 뒤에 세 글자 `ato`가 겹치는 것을 알 수 있습니다.

따라서 `(pot|tom)ato` 패턴은 `tomato`, `potato`두 단어 모두 매칭됩니다.

그러나 문자열 `"tomato potato"`에 `"(pot|tom)ato"`를 매칭한 결과를 출력해보면 `['pot', 'tom']`가 출력됩니다.

그 이유는 파이썬 정규표현식에서 그룹으로 캡쳐한 부분이 있다면 이외의 부분들은 출력하지 않기 때문입니다. 위 패턴에서 `ato`는 그룹에 속해있지 않기 때문에 findall 함수에서 누락된 것입니다.

#### **비캡쳐링 그룹 활용하기**

이러한 문제를 해결하기 위한 방법 중 하나로 **비캡쳐링 그룹**이 있습니다.

비캡쳐링 그룹은 패턴 문자들을 묶되, 그룹 단위로 매칭되지는 않게끔 해줍니다. 그룹으로 묶은 것들을 최종 결과에서 따로 구분하여 사용하지 않는 경우에 적용합니다.

비캡쳐링 그룹을 만드는 방법은 `(?:)` 입니다.

#### **예시**

```
(?:tom|pot)ato
사원번호 : (?:\d{3})

```

## **지시사항**

`m2`를 출력하였을 때 `['tomato', 'potato']`가 출력되도록 `p2`에 올바른 패턴을 작성하세요.

## **Tip!**

비캡쳐링 그룹은 **캡쳐가 되지 않는** 그룹이기 때문에 참조하여 사용하실 수는 없습니다.
